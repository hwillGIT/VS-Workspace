<!DOCTYPE html>
<html>
<head>
    <title>Modern Low-Latency Trading System Architecture</title>
    <style>
        svg {
            background: white;
            max-width: 100%;
            height: auto;
        }
        .component {
            fill: #e3f2fd;
            stroke: #1565c0;
            stroke-width: 2;
        }
        .latency-line {
            stroke-linecap: round;
        }
        /* Latency scale gradients */
        .latency-1us {
            stroke: #f44336;
            stroke-width: 8;
        }
        .latency-10us {
            stroke: #ff9800;
            stroke-width: 6;
        }
        .latency-100us {
            stroke: #2196f3;
            stroke-width: 4;
        }
        .latency-500us {
            stroke: #90caf9;
            stroke-width: 2;
        }

        .fpga {
            fill: #fff3e0;
            stroke: #e65100;
        }
        .gpu {
            fill: #f3e5f5;
            stroke: #7b1fa2;
        }
        .network {
            fill: #e8f5e9;
            stroke: #2e7d32;
        }
        .arrow {
            stroke: #1565c0;
            stroke-width: 2;
            marker-end: url(#arrowhead);
        }
        .latency-text {
            font-family: Arial, sans-serif;
            font-size: 10px;
            fill: #666;
        }
        text {
            font-family: Arial, sans-serif;
            font-size: 12px;
        }
        .title {
            font-size: 14px;
            font-weight: bold;
        }
        .subtitle {
            font-size: 12px;
            font-style: italic;
        }
        .spec {
            font-size: 10px;
        }
    </style>
</head>
<body>
    <svg width="1200" height="800" viewBox="0 0 1200 800">
        <!-- Arrow marker definition -->
        <defs>
            <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                refX="9" refY="3.5" orient="auto">
                <polygon points="0 0, 10 3.5, 0 7" fill="#1565c0"/>
            </marker>
        </defs>

        <!-- Title -->
        <text x="600" y="30" text-anchor="middle" class="title">
            Modern Low-Latency Trading System Architecture
        </text>
        <text x="600" y="50" text-anchor="middle" class="subtitle">
            Integrated Components with Latency Specifications
        </text>

        <!-- 1. Market Data Processing Infrastructure -->
        <g transform="translate(50,100)">
            <rect x="0" y="0" width="250" height="280" class="component"/>
            <text x="125" y="-10" text-anchor="middle" class="title">Market Data Processing</text>
            
            <!-- FPGA Components -->
            <rect x="20" y="20" width="210" height="50" class="fpga"/>
            <text x="125" y="35" text-anchor="middle">Feed Handlers (FPGA)</text>
            <text x="125" y="50" text-anchor="middle" class="spec">ITCH/OUCH/FIX/FAST</text>
            <text x="125" y="65" text-anchor="middle" class="latency-text">Sub-microsecond latency</text>
            
            <rect x="20" y="90" width="210" height="50" class="component"/>
            <text x="125" y="105" text-anchor="middle">Time Synchronization</text>
            <text x="125" y="120" text-anchor="middle" class="spec">PTP with Hardware Timestamping</text>
            <text x="125" y="135" text-anchor="middle" class="latency-text">Sub-100ns accuracy</text>
            
            <rect x="20" y="160" width="210" height="50" class="fpga"/>
            <text x="125" y="175" text-anchor="middle">Order Book Processor</text>
            <text x="125" y="190" text-anchor="middle" class="spec">10M+ updates/second</text>
            
            <rect x="20" y="230" width="210" height="30" class="fpga"/>
            <text x="125" y="250" text-anchor="middle">Market Data Normalization</text>
        </g>

        <!-- 2. DMA Solutions -->
        <g transform="translate(350,100)">
            <rect x="0" y="0" width="250" height="280" class="network"/>
            <text x="125" y="-10" text-anchor="middle" class="title">DMA Solutions</text>
            
            <rect x="20" y="20" width="210" height="50" class="component"/>
            <text x="125" y="35" text-anchor="middle">Sponsored Access</text>
            <text x="125" y="50" text-anchor="middle" class="latency-text">50-200 microseconds</text>
            
            <rect x="20" y="90" width="210" height="50" class="component"/>
            <text x="125" y="105" text-anchor="middle">Naked Access</text>
            <text x="125" y="120" text-anchor="middle" class="latency-text">10-50 microseconds</text>
            
            <rect x="20" y="160" width="210" height="50" class="component"/>
            <text x="125" y="175" text-anchor="middle">Co-located DMA</text>
            <text x="125" y="190" text-anchor="middle" class="latency-text">5-20 microseconds</text>
            
            <rect x="20" y="230" width="210" height="30" class="component"/>
            <text x="125" y="250" text-anchor="middle">Cross-connect DMA</text>
            <text x="125" y="265" text-anchor="middle" class="latency-text">1-5 microseconds</text>
        </g>

        <!-- 3. Specialized Hardware -->
        <g transform="translate(650,100)">
            <rect x="0" y="0" width="250" height="280" class="component"/>
            <text x="125" y="-10" text-anchor="middle" class="title">Specialized Hardware</text>
            
            <rect x="20" y="20" width="210" height="50" class="fpga"/>
            <text x="125" y="35" text-anchor="middle">FPGAs</text>
            <text x="125" y="50" text-anchor="middle" class="spec">Intel Stratix 10/Xilinx Ultrascale+</text>
            <text x="125" y="65" text-anchor="middle" class="latency-text">10 TFLOPS, sub-μs latency</text>
            
            <rect x="20" y="90" width="210" height="50" class="gpu"/>
            <text x="125" y="105" text-anchor="middle">GPUs</text>
            <text x="125" y="120" text-anchor="middle" class="spec">NVIDIA A100/AMD MI250X</text>
            <text x="125" y="135" text-anchor="middle" class="latency-text">Up to 312 TFLOPS</text>
            
            <rect x="20" y="160" width="210" height="50" class="component"/>
            <text x="125" y="175" text-anchor="middle">Custom ASICs</text>
            <text x="125" y="190" text-anchor="middle" class="latency-text">5-10x FPGA performance</text>
            
            <rect x="20" y="230" width="210" height="30" class="component"/>
            <text x="125" y="250" text-anchor="middle">Multicore CPUs (56-96 cores)</text>
        </g>

        <!-- 4. Network Infrastructure -->
        <g transform="translate(950,100)">
            <rect x="0" y="0" width="200" height="280" class="network"/>
            <text x="100" y="-10" text-anchor="middle" class="title">Network Infrastructure</text>
            
            <rect x="20" y="20" width="160" height="50" class="component"/>
            <text x="100" y="35" text-anchor="middle">Custom Routing</text>
            <text x="100" y="50" text-anchor="middle" class="latency-text">30-50% reduction</text>
            
            <rect x="20" y="90" width="160" height="50" class="component"/>
            <text x="100" y="105" text-anchor="middle">Microwave Links</text>
            <text x="100" y="120" text-anchor="middle" class="spec">6-23 GHz, 100-300 Mbps</text>
            
            <rect x="20" y="160" width="160" height="50" class="component"/>
            <text x="100" y="175" text-anchor="middle">Millimeter Wave</text>
            <text x="100" y="190" text-anchor="middle" class="spec">60-90 GHz, up to 10 Gbps</text>
            
            <rect x="20" y="230" width="160" height="30" class="component"/>
            <text x="100" y="250" text-anchor="middle">HC-PCF (0.997c speed)</text>
        </g>

        <!-- 5. Algorithmic Engines -->
        <g transform="translate(50,450)">
            <rect x="0" y="0" width="1100" height="200" class="component"/>
            <text x="550" y="-10" text-anchor="middle" class="title">Algorithmic Strategy Engines</text>
            
            <rect x="20" y="20" width="250" height="70" class="component"/>
            <text x="145" y="45" text-anchor="middle">Statistical Arbitrage</text>
            <text x="145" y="65" text-anchor="middle" class="latency-text">1-10 microseconds</text>
            
            <rect x="290" y="20" width="250" height="70" class="component"/>
            <text x="415" y="45" text-anchor="middle">Market Making</text>
            <text x="415" y="65" text-anchor="middle" class="latency-text">5-20 microseconds</text>
            
            <rect x="560" y="20" width="250" height="70" class="component"/>
            <text x="685" y="45" text-anchor="middle">Execution Algorithms</text>
            <text x="685" y="65" text-anchor="middle" class="latency-text">20-100 microseconds</text>
            
            <rect x="830" y="20" width="250" height="70" class="component"/>
            <text x="955" y="45" text-anchor="middle">Event-driven Strategies</text>
            <text x="955" y="65" text-anchor="middle" class="latency-text">50-500 microseconds</text>
            
            <!-- Enhanced Latency Scale with color and thickness -->
            <g transform="translate(20,150)">
                <!-- 1μs section -->
                <line x1="0" y1="0" x2="250" y2="0" class="latency-line latency-1us"/>
                <text x="125" y="-10" text-anchor="middle" class="latency-text" fill="#f44336">Ultra-Low Latency (1-10μs)</text>
                
                <!-- 10μs section -->
                <line x1="250" y1="0" x2="500" y2="0" class="latency-line latency-10us"/>
                <text x="375" y="-10" text-anchor="middle" class="latency-text" fill="#ff9800">Very Low Latency (10-50μs)</text>
                
                <!-- 100μs section -->
                <line x1="500" y1="0" x2="750" y2="0" class="latency-line latency-100us"/>
                <text x="625" y="-10" text-anchor="middle" class="latency-text" fill="#2196f3">Low Latency (50-100μs)</text>
                
                <!-- 500μs section -->
                <line x1="750" y1="0" x2="1060" y2="0" class="latency-line latency-500us"/>
                <text x="905" y="-10" text-anchor="middle" class="latency-text" fill="#90caf9">Standard Latency (100-500μs)</text>
            </g>

            <text x="550" y="180" text-anchor="middle" class="title">Latency Scale (microseconds)</text>
        </g>

        <!-- Interconnection Arrows -->
        <g>
            <line x1="300" y1="240" x2="350" y2="240" class="arrow"/>
            <line x1="600" y1="240" x2="650" y2="240" class="arrow"/>
            <line x1="900" y1="240" x2="950" y2="240" class="arrow"/>
            
            <line x1="175" y1="380" x2="175" y2="450" class="arrow"/>
            <line x1="475" y1="380" x2="475" y2="450" class="arrow"/>
            <line x1="775" y1="380" x2="775" y2="450" class="arrow"/>
            <line x1="1050" y1="380" x2="1050" y2="450" class="arrow"/>
        </g>
    </svg>
</body>
</html>