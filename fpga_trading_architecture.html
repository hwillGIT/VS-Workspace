<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FPGA Trading Architecture</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f8f9fa;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .diagram-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .description {
            margin: 20px 0;
            padding: 15px;
            background-color: #f0f4f8;
            border-left: 4px solid #4285f4;
            border-radius: 4px;
        }
        .caption {
            font-size: 14px;
            text-align: center;
            margin-top: 10px;
            color: #555;
        }
        /* SVG styles */
        text {
            font-family: Arial, sans-serif;
            font-size: 14px;
        }
        .block-title {
            font-size: 16px;
            font-weight: bold;
        }
        .latency-indicator {
            font-size: 12px;
            fill: #d32f2f;
            font-weight: bold;
        }
        .comment-text {
            font-size: 12px;
            fill: #555;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>Internal Organization of an FPGA Configured for Trading Applications</h1>
    
    <div class="description">
        <p>This diagram illustrates the internal architecture of a Field-Programmable Gate Array (FPGA) specifically configured for high-frequency trading applications. The design shows custom circuitry for market data processing, order book management, and trading logic implementation. The direct dataflow architecture enables deterministic processing with sub-microsecond latency.</p>
    </div>
    
    <div class="diagram-container">
        <!-- SVG Diagram of FPGA Internal Architecture -->
        <svg width="100%" height="800" viewBox="0 0 1100 800" xmlns="http://www.w3.org/2000/svg">
            <!-- Background Grid representing FPGA fabric -->
            <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#eee" stroke-width="1"/>
            </pattern>
            <rect width="1000" height="700" x="50" y="50" fill="url(#grid)" stroke="#ccc" stroke-width="2"/>
            
            <!-- Main FPGA outline -->
            <rect width="1000" height="700" x="50" y="50" fill="none" stroke="#333" stroke-width="4" rx="10" ry="10"/>
            <text x="500" y="40" text-anchor="middle" font-size="24" font-weight="bold">FPGA Die - Trading Configuration</text>
            
            <!-- Clock Distribution Network -->
            <rect x="100" y="650" width="900" height="50" fill="#f5f5f5" stroke="#333" stroke-width="2" rx="5" ry="5"/>
            <text x="550" y="680" text-anchor="middle" class="block-title">Global Clock Distribution Network (Sub-nanosecond precision)</text>
            
            <!-- Market Data Processing Block -->
            <rect x="100" y="150" width="250" height="400" fill="#e3f2fd" stroke="#1565c0" stroke-width="3" rx="5" ry="5"/>
            <text x="225" y="180" text-anchor="middle" class="block-title" fill="#1565c0">Market Data Processing</text>
            
            <!-- Market Data Sub-blocks -->
            <rect x="120" y="200" width="210" height="80" fill="#bbdefb" stroke="#1565c0" stroke-width="2" rx="5" ry="5"/>
            <text x="225" y="240" text-anchor="middle">Feed Handler</text>
            <text x="225" y="260" text-anchor="middle" class="comment-text">(Multiprotocol Parsing)</text>
            
            <rect x="120" y="300" width="210" height="80" fill="#bbdefb" stroke="#1565c0" stroke-width="2" rx="5" ry="5"/>
            <text x="225" y="340" text-anchor="middle">Packet Normalization</text>
            <text x="225" y="360" text-anchor="middle" class="comment-text">(Standardized Format)</text>
            
            <rect x="120" y="400" width="210" height="80" fill="#bbdefb" stroke="#1565c0" stroke-width="2" rx="5" ry="5"/>
            <text x="225" y="440" text-anchor="middle">Filtering & Routing</text>
            <text x="225" y="460" text-anchor="middle" class="comment-text">(Relevant Data Extraction)</text>
            
            <!-- Market Data Input -->
            <path d="M 50 280 L 100 280" stroke="#1565c0" stroke-width="4" marker-end="url(#arrowhead)"/>
            <text x="75" y="270" text-anchor="middle" font-size="12">Market</text>
            <text x="75" y="285" text-anchor="middle" font-size="12">Data Feed</text>
            
            <!-- Order Book Management Block -->
            <rect x="450" y="150" width="300" height="220" fill="#e8f5e9" stroke="#2e7d32" stroke-width="3" rx="5" ry="5"/>
            <text x="600" y="180" text-anchor="middle" class="block-title" fill="#2e7d32">Order Book Management</text>
            
            <!-- Order Book Sub-blocks -->
            <rect x="470" y="200" width="120" height="140" fill="#c8e6c9" stroke="#2e7d32" stroke-width="2" rx="5" ry="5"/>
            <text x="530" y="240" text-anchor="middle">Bid Side</text>
            <text x="530" y="260" text-anchor="middle" class="comment-text">(Price-Time Priority)</text>
            
            <rect x="610" y="200" width="120" height="140" fill="#c8e6c9" stroke="#2e7d32" stroke-width="2" rx="5" ry="5"/>
            <text x="670" y="240" text-anchor="middle">Ask Side</text>
            <text x="670" y="260" text-anchor="middle" class="comment-text">(Price-Time Priority)</text>
            
            <!-- Trading Logic Block -->
            <rect x="450" y="400" width="300" height="200" fill="#fff3e0" stroke="#e65100" stroke-width="3" rx="5" ry="5"/>
            <text x="600" y="430" text-anchor="middle" class="block-title" fill="#e65100">Trading Logic Implementation</text>
            
            <!-- Trading Logic Sub-blocks -->
            <rect x="470" y="450" width="120" height="60" fill="#ffe0b2" stroke="#e65100" stroke-width="2" rx="5" ry="5"/>
            <text x="530" y="485" text-anchor="middle">Signal Generator</text>
            
            <rect x="610" y="450" width="120" height="60" fill="#ffe0b2" stroke="#e65100" stroke-width="2" rx="5" ry="5"/>
            <text x="670" y="485" text-anchor="middle">Strategy Evaluator</text>
            
            <rect x="470" y="530" width="120" height="60" fill="#ffe0b2" stroke="#e65100" stroke-width="2" rx="5" ry="5"/>
            <text x="530" y="565" text-anchor="middle">Risk Controller</text>
            
            <rect x="610" y="530" width="120" height="60" fill="#ffe0b2" stroke="#e65100" stroke-width="2" rx="5" ry="5"/>
            <text x="670" y="565" text-anchor="middle">Order Generator</text>
            
            <!-- Order Execution Block -->
            <rect x="800" y="150" width="200" height="450" fill="#fce4ec" stroke="#c2185b" stroke-width="3" rx="5" ry="5"/>
            <text x="900" y="180" text-anchor="middle" class="block-title" fill="#c2185b">Order Execution</text>
            
            <!-- Order Execution Sub-blocks -->
            <rect x="820" y="200" width="160" height="80" fill="#f8bbd0" stroke="#c2185b" stroke-width="2" rx="5" ry="5"/>
            <text x="900" y="240" text-anchor="middle">Order Formatting</text>
            <text x="900" y="260" text-anchor="middle" class="comment-text">(Exchange Protocol)</text>
            
            <rect x="820" y="300" width="160" height="80" fill="#f8bbd0" stroke="#c2185b" stroke-width="2" rx="5" ry="5"/>
            <text x="900" y="340" text-anchor="middle">FIX Gateway</text>
            <text x="900" y="360" text-anchor="middle" class="comment-text">(Order Transmission)</text>
            
            <rect x="820" y="400" width="160" height="80" fill="#f8bbd0" stroke="#c2185b" stroke-width="2" rx="5" ry="5"/>
            <text x="900" y="440" text-anchor="middle">Order Status Monitor</text>
            <text x="900" y="460" text-anchor="middle" class="comment-text">(Execution Tracking)</text>
            
            <rect x="820" y="500" width="160" height="80" fill="#f8bbd0" stroke="#c2185b" stroke-width="2" rx="5" ry="5"/>
            <text x="900" y="540" text-anchor="middle">Network Interface</text>
            <text x="900" y="560" text-anchor="middle" class="comment-text">(10G/40G Ethernet)</text>
            
            <!-- Order Output -->
            <path d="M 1000 540 L 1050 540" stroke="#c2185b" stroke-width="4" marker-end="url(#arrowhead)"/>
            <text x="1025" y="530" text-anchor="middle" font-size="12">Orders to</text>
            <text x="1025" y="545" text-anchor="middle" font-size="12">Exchange</text>
            
            <!-- Define arrowhead marker -->
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
                </marker>
            </defs>
            
            <!-- Data flow paths -->
            <!-- Market Data to Order Book -->
            <path d="M 350 240 L 450 240" stroke="#333" stroke-width="3" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
            <text x="400" y="230" text-anchor="middle" font-size="12">Market Data Flow</text>
            
            <!-- Market Data to Trading Logic -->
            <path d="M 350 440 L 450 480" stroke="#333" stroke-width="3" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
            <text x="400" y="450" text-anchor="middle" font-size="12">Signal Input</text>
            
            <!-- Order Book to Trading Logic -->
            <path d="M 600 370 L 600 400" stroke="#333" stroke-width="3" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
            <text x="620" y="385" text-anchor="middle" font-size="12">Book State</text>
            
            <!-- Trading Logic to Order Execution -->
            <path d="M 750 500 L 800 500" stroke="#333" stroke-width="3" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
            <text x="775" y="480" text-anchor="middle" font-size="12">Trading</text>
            <text x="775" y="495" text-anchor="middle" font-size="12">Decisions</text>
            
            <!-- Latency Measurements -->
            <path d="M 100 600 L 900 600" stroke="#d32f2f" stroke-width="2" stroke-dasharray="10,5"/>
            <text x="500" y="590" text-anchor="middle" class="latency-indicator">End-to-End Latency: Sub-microsecond (200-700 nanoseconds)</text>
            
            <!-- Circuit blocks representing specialized hardware -->
            <!-- Memory Blocks -->
            <rect x="400" y="100" width="60" height="30" fill="#eeeeee" stroke="#333" stroke-width="1"/>
            <rect x="480" y="100" width="60" height="30" fill="#eeeeee" stroke="#333" stroke-width="1"/>
            <rect x="560" y="100" width="60" height="30" fill="#eeeeee" stroke="#333" stroke-width="1"/>
            <rect x="640" y="100" width="60" height="30" fill="#eeeeee" stroke="#333" stroke-width="1"/>
            <text x="500" y="120" text-anchor="middle" font-size="10">BRAM Memory Blocks</text>
            
            <!-- DSP Blocks -->
            <rect x="710" y="100" width="20" height="30" fill="#ffecb3" stroke="#333" stroke-width="1"/>
            <rect x="740" y="100" width="20" height="30" fill="#ffecb3" stroke="#333" stroke-width="1"/>
            <rect x="770" y="100" width="20" height="30" fill="#ffecb3" stroke="#333" stroke-width="1"/>
            <rect x="800" y="100" width="20" height="30" fill="#ffecb3" stroke="#333" stroke-width="1"/>
            <text x="750" y="145" text-anchor="middle" font-size="10">DSP Slices for Calculations</text>
            
            <!-- Title of the diagram -->
            <text x="550" y="750" text-anchor="middle" font-size="18" font-weight="bold">
                Custom FPGA Architecture for Low-Latency Trading
            </text>
        </svg>
        <div class="caption">
            Figure 1: Detailed internal organization of an FPGA configured specifically for trading applications, 
            showing the custom circuitry for market data processing, order book management, and trading logic implementation.
            The direct dataflow architecture enables deterministic processing with sub-microsecond latency.
        </div>
    </div>
</body>
</html>